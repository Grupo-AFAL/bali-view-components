// Gantt chart layout variables
$gantt-chart-header-height: 45px;
$gantt-chart-header-size: 11px;
$gantt-chart-list-width: 200px;
$gantt-chart-row-height: 35px;
$gantt-chart-item-bubble-height: 25px;
$gantt-chart-item-bubble-radius: calc($gantt-chart-item-bubble-height / 2);
$gantt-chart-scale-height: 23px;
$gantt-chart-resizer-width: 10px;
$gantt-chart-timeline-data-height: 100%;
$gantt-chart-critical-border-width: 2px;

// Theme colors using DaisyUI CSS variables
$gantt-chart-today-color: oklch(var(--in) / 0.6);
$gantt-chart-milestone-color: oklch(var(--a));
$gantt-chart-critical-color: oklch(var(--er) / 0.8);

// Border and shadow variables (shared with sub-files)
$border-color: oklch(var(--b3));
$sharp-box-shadow: 3px 3px 3px rgba(10, 10, 10, 0.1);

@import './drag_handle/index';
@import './list_row/index';
@import './timeline_background/index';
@import './timeline_cell/index';
@import './timeline_header/index';

.gantt-chart-component {
  @apply border-t-2 border-b border-base-300;

  .gantt-chart-actions {
    @apply w-full flex items-center px-3;
    @apply border-b border-l border-r border-base-300;
    height: $gantt-chart-header-height;

    a.today {
      @apply text-base-content/70 text-xs py-1 px-2 rounded mr-4;
      @apply border border-base-200;

      &:hover {
        @apply bg-base-200 border-base-300;
      }
    }

    .buttons {
      @apply mb-0;
    }

    .button {
      @apply py-1 px-2 mb-0 h-auto leading-none;

      &.is-info {
        background-color: $gantt-chart-today-color;
      }
    }
  }

  .gantt-chart-container {
    @apply flex relative;
  }

  .gantt-chart-list {
    min-width: $gantt-chart-list-width;
    width: $gantt-chart-list-width;

    .gantt-chart-header {
      @apply border-r border-l border-base-300 w-full pl-5;
      @apply text-base-content/50 uppercase;
      line-height: $gantt-chart-header-height;
    }

    .gantt-chart-row-contents {
      @apply bg-base-100 border-b border-l border-r border-base-300;
      @apply select-none;
    }
  }

  .gantt-chart-list-resizer {
    width: $gantt-chart-resizer-width;
    @apply z-[2] cursor-col-resize bg-transparent absolute h-full;
    left: $gantt-chart-list-width - calc($gantt-chart-resizer-width / 2);

    &:hover .gantt-chart-list-resizer-shadow {
      box-shadow: 0 0 3px 1px $gantt-chart-today-color;
      @apply w-px h-full absolute bg-base-300;
      left: calc($gantt-chart-resizer-width / 2);
    }
  }

  .gantt-chart-timeline {
    @apply grow overflow-x-scroll border-r border-base-300 relative;
  }

  .gantt-chart-today-marker {
    @apply absolute top-0 w-0.5 z-[1];
    height: $gantt-chart-timeline-data-height;
    background-color: $gantt-chart-today-color;

    span {
      background-color: $gantt-chart-today-color;
      @apply text-[0.625rem] text-base-100 inline-block absolute top-0;
      @apply py-0.5 px-1 font-light z-[2];
    }
  }

  .gantt-chart-drag-shadow {
    background-color: oklch(var(--in) / 0.15);
    height: $gantt-chart-timeline-data-height;
    @apply w-0 absolute top-0;
  }

  .gantt-chart-data-area {
    @apply bg-base-200/50 overflow-hidden relative;
    height: calc(100% - #{($gantt-chart-header-height)});
  }

  .gantt-chart-timeline-children {
    @apply absolute;
    top: $gantt-chart-row-height;
  }

  .gantt-chart-connections-canvas {
    @apply absolute top-0 h-full w-full;
  }

  .gantt-chart-footer,
  .gantt-chart-list-footer {
    @apply border-l border-r border-base-300;
  }
}
