/* Side Menu Component
 * Uses DaisyUI menu as base, adds positioning and collapse functionality
 */

.side-menu-component {
  --side-menu-width: 15rem;
  --navbar-height: 3.75rem;

  /* Icon styling */
  .iconify,
  .icon-component {
    @apply shrink-0 mr-2;
  }
}

/* Fixed positioning variant - for full-page sidebars */
.side-menu-component--fixed {
  @apply fixed top-0 left-0 h-full p-4 bg-base-100 shadow-lg z-40;
  width: var(--side-menu-width);
  padding-top: calc(var(--navbar-height) + 1rem);
  transform: translateX(-100%);
  transition: transform 0.2s ease-in-out;

  /* Visible on desktop */
  @media (min-width: 1024px) {
    transform: translateX(0);
  }

  /* Active state (mobile menu open) */
  &.is-active {
    transform: translateX(0);
  }
}

/* Collapsed state - icon only */
.side-menu-component.is-collapsed {
  width: auto;
  @apply px-2;

  /* Toggle icon visibility */
  .collapse-icon {
    @apply hidden;
  }
  .expand-icon {
    @apply block;
  }

  /* Hide text, keep icons */
  .menu {
    @apply w-auto p-1;

    .menu-title {
      @apply hidden;
    }

    li > a,
    li > span,
    li > details > summary {
      @apply justify-center px-2;

      /* Hide text nodes - keep only icons */
      > span:not(.iconify):not(.icon-component) {
        @apply hidden;
      }
    }

    /* Hide nested menus when collapsed */
    details > ul {
      @apply hidden;
    }
  }

  /* Hide menu switcher dropdown when collapsed */
  .dropdown {
    @apply hidden;
  }
}

/* Expanded state - show text */
.side-menu-component:not(.is-collapsed) {
  .collapse-icon {
    @apply block;
  }
  .expand-icon {
    @apply hidden;
  }
}

/* Mobile overlay */
.side-menu-overlay {
  @apply fixed inset-0 bg-black/50 z-30 opacity-0 pointer-events-none;
  transition: opacity 0.2s ease-in-out;
}

.side-menu-component--fixed.is-active ~ .side-menu-overlay {
  @apply opacity-100 pointer-events-auto;
}

/* Hide overlay on desktop */
@media (min-width: 1024px) {
  .side-menu-overlay {
    @apply hidden;
  }
}
