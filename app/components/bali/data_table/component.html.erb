<div id="<%= id %>" class="data-table-component">
  <%# Toolbar: Filters (left) + Actions/Buttons (right) %>
  <% if show_toolbar? %>
    <div class="flex flex-wrap items-start justify-between gap-4 mb-4">
      <%# Left side: Filters %>
      <div class="flex-1 min-w-0">
        <%= filters_panel if filters_panel? %>
        <%= simple_filters if simple_filters? %>
      </div>

      <%# Right side: Column selector + Export + Toolbar buttons + Actions panel %>
      <% if show_toolbar_right? %>
        <div class="flex items-center gap-2 flex-shrink-0">
          <%= column_selector if column_selector? %>
          <%= export if export? %>
          <% toolbar_buttons.each do |button| %>
            <%= button %>
          <% end %>
          <% if actions_panel? %>
            <div class="hidden md:block"><%= actions_panel %></div>
          <% end %>
        </div>
      <% end %>
    </div>
  <% end %>

  <%# Custom summary slot (top position) or summary_position: :top %>
  <% if summary? || show_summary_top? %>
    <div class="mb-4 text-sm text-base-content/70">
      <%= summary? ? summary : default_summary_text %>
    </div>
  <% end %>

  <%# Mobile actions %>
  <% if actions_panel? %>
    <div class="md:hidden flex items-center justify-end mb-3">
      <%= actions_panel %>
    </div>
  <% end %>

  <%# Content: Table or Grid %>
  <% if grid_mode? %>
    <%= grid %>
  <% else %>
    <%= tag.div class: table_wrapper_classes do %>
      <%= table %>
    <% end %>
  <% end %>

  <%# Footer: Summary (left) + Pagination (right) %>
  <% if show_footer? %>
    <div class="flex flex-col sm:flex-row items-center justify-between gap-4 mt-4 pt-4 border-t border-base-200">
      <%# Summary text %>
      <div class="text-sm text-base-content/70 order-2 sm:order-1">
        <% if show_summary_bottom? %>
          <%= default_summary_text %>
        <% end %>
      </div>

      <%# Pagination %>
      <% if pagy %>
        <div class="order-1 sm:order-2">
          <% if custom_pagy_nav? %>
            <%= custom_pagy_nav %>
          <% else %>
            <%= render Bali::Pagination::Component.new(pagy: pagy) %>
          <% end %>
        </div>
      <% end %>
    </div>
  <% end %>
</div>
