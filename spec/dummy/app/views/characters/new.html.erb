<%# Character form for modal %>
<h2 class="text-xl font-bold mb-4">Add Character</h2>

<%= form_with model: [@movie, @character], class: 'space-y-4', data: { turbo: true } do |f| %>
  <% if @character.errors.any? %>
    <%= render Bali::Message::Component.new(color: :error, class: 'mb-4') do %>
      <ul class="list-disc list-inside">
        <% @character.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    <% end %>
  <% end %>

  <div class="form-control">
    <label class="label"><span class="label-text">Character Name</span></label>
    <%= f.text_field :name,
      class: "input input-bordered w-full #{@character.errors[:name].any? ? 'input-error' : ''}",
      placeholder: 'Enter character name...',
      required: true,
      autofocus: true %>
  </div>

  <div class="flex justify-end gap-2 pt-4">
    <%= render Bali::Button::Component.new(
      name: 'Cancel',
      variant: :ghost,
      data: { action: 'modal#close' }
    ) %>
    <%= render Bali::Button::Component.new(
      name: 'Add Character',
      variant: :primary,
      type: :submit,
      data: { action: 'modal#submit', turbo: true }
    ) %>
  </div>
<% end %>
