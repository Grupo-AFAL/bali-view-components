<%# Component Showcase - Missing components from Kitchen Sink %>
<%# Showcases: Calendar, Clipboard, Drawer, FlashNotifications, ImageField, List, Loader, LocationsMap, Modal, SearchInput, Tags, Tooltip, TreeView, RecurrentEventRuleForm %>

<%# Breadcrumb %>
<%= render Bali::Breadcrumb::Component.new do |breadcrumb| %>
  <% breadcrumb.with_item(name: t('navbar.dashboard'), href: root_path, icon_name: 'home') %>
  <% breadcrumb.with_item(name: t('showcase.title')) %>
<% end %>

<%# Page Header %>
<%= render Bali::PageHeader::Component.new(
  title: t('showcase.title'),
  subtitle: t('showcase.subtitle'),
  class: 'mt-4 mb-6'
) %>

<%# DirectUpload Test (form_with url: without model) %>
<section class="mb-12">
  <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
    <%= render Bali::Icon::Component.new('upload', class: 'text-primary') %>
    DirectUpload Test
  </h2>
  <p class="text-base-content/70 mb-4">
    Test DirectUpload component with <code class="badge badge-ghost">form_with url:</code> (no model).
    Validates field name generation fix and Turbo auto-reset feature.
  </p>

  <%= render Bali::Card::Component.new(style: :bordered) do %>
    <div class="flex items-center justify-between">
      <div>
        <p class="font-medium">What this tests:</p>
        <ul class="list-disc list-inside text-sm text-base-content/70 mt-2">
          <li>Field names: <code>evidences[]</code> not <code>[evidences][]</code></li>
          <li>Auto-clear files after successful Turbo submission</li>
          <li>Multiple file upload without a model</li>
        </ul>
      </div>
      <%= render Bali::Link::Component.new(
        name: 'Open Test Page',
        href: new_direct_upload_path,
        type: :primary
      ) %>
    </div>
  <% end %>
</section>

<%# SlimSelect with Complex HTML Demo %>
<section class="mb-12">
  <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
    <%= render Bali::Icon::Component.new('users', class: 'text-primary') %>
    SlimSelect with Rich HTML
  </h2>
  <p class="text-base-content/70 mb-4">
    SlimSelect supports custom HTML in options for rich, visually appealing dropdowns.
    Use <code class="badge badge-ghost badge-sm">data-inner-html</code> on option tags.
  </p>

  <%= render Bali::Card::Component.new(style: :bordered) do %>
    <div class="grid md:grid-cols-2 gap-8">
      <%# Team Member Selector %>
      <div>
        <h3 class="font-semibold mb-4">Assign Team Members</h3>
        <%= form_with url: '#', method: :get, builder: Bali::FormBuilder do |f| %>
          <%
            team_members = [
              { value: '1', name: 'Sarah Chen', role: 'Engineering Lead', avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=sarah', status: 'online' },
              { value: '2', name: 'Marcus Johnson', role: 'Senior Developer', avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=marcus', status: 'online' },
              { value: '3', name: 'Elena Rodriguez', role: 'Product Designer', avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=elena', status: 'away' },
              { value: '4', name: 'James Wilson', role: 'DevOps Engineer', avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=james', status: 'offline' },
              { value: '5', name: 'Aisha Patel', role: 'QA Engineer', avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=aisha', status: 'online' }
            ]

            status_colors = { 'online' => 'bg-success', 'away' => 'bg-warning', 'offline' => 'bg-base-300' }

            team_options = team_members.map do |member|
              html = <<~HTML
                <div class="flex items-center gap-3 py-1">
                  <div class="avatar #{member[:status] == 'online' ? 'online' : (member[:status] == 'away' ? 'away' : '')}">
                    <div class="w-8 rounded-full ring ring-base-200 ring-offset-base-100 ring-offset-1">
                      <img src="#{member[:avatar]}" alt="#{member[:name]}" />
                    </div>
                  </div>
                  <div class="flex-1 min-w-0">
                    <div class="font-medium text-sm truncate">#{member[:name]}</div>
                    <div class="text-xs text-base-content/60 truncate">#{member[:role]}</div>
                  </div>
                  <div class="w-2 h-2 rounded-full #{status_colors[member[:status]]}"></div>
                </div>
              HTML
              [member[:name], member[:value], { 'data-inner-html' => html }]
            end
          %>
          <%= f.slim_select_group :assignees,
            options_for_select(team_options),
            { label: 'Team Members', include_blank: 'Select team members...', hide_selected: true },
            { multiple: true, placeholder: 'Search team members...' } %>
        <% end %>
      </div>

      <%# Priority Selector %>
      <div>
        <h3 class="font-semibold mb-4">Set Priority</h3>
        <%= form_with url: '#', method: :get, builder: Bali::FormBuilder do |f| %>
          <%
            priorities = [
              { value: 'critical', label: 'Critical', icon: 'alert-triangle', color: 'text-error', bg: 'bg-error/10', desc: 'Immediate attention required' },
              { value: 'high', label: 'High', icon: 'arrow-up', color: 'text-warning', bg: 'bg-warning/10', desc: 'Should be addressed soon' },
              { value: 'medium', label: 'Medium', icon: 'minus', color: 'text-info', bg: 'bg-info/10', desc: 'Normal priority' },
              { value: 'low', label: 'Low', icon: 'arrow-down', color: 'text-success', bg: 'bg-success/10', desc: 'Can wait' }
            ]

            priority_options = priorities.map do |p|
              html = <<~HTML
                <div class="flex items-center gap-3 py-1">
                  <div class="p-2 rounded-lg #{p[:bg]}">
                    <svg class="w-4 h-4 #{p[:color]}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      #{p[:icon] == 'alert-triangle' ? '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>' : ''}
                      #{p[:icon] == 'arrow-up' ? '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path>' : ''}
                      #{p[:icon] == 'minus' ? '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path>' : ''}
                      #{p[:icon] == 'arrow-down' ? '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>' : ''}
                    </svg>
                  </div>
                  <div class="flex-1">
                    <div class="font-medium text-sm #{p[:color]}">#{p[:label]}</div>
                    <div class="text-xs text-base-content/60">#{p[:desc]}</div>
                  </div>
                </div>
              HTML
              [p[:label], p[:value], { 'data-inner-html' => html }]
            end
          %>
          <%= f.slim_select_group :priority,
            options_for_select(priority_options, 'medium'),
            { label: 'Priority Level', allow_deselect_option: true },
            { placeholder: 'Select priority...' } %>
        <% end %>
      </div>
    </div>

    <div class="divider">Usage</div>

    <div class="mockup-code text-sm">
      <pre data-prefix="1"><code>&lt;%# Define options with data-inner-html for custom rendering %&gt;</code></pre>
      <pre data-prefix="2"><code>options = users.map do |user|</code></pre>
      <pre data-prefix="3" class="text-warning"><code>  html = "&lt;div class='flex items-center'&gt;...&lt;/div&gt;"</code></pre>
      <pre data-prefix="4" class="text-success"><code>  [user.name, user.id, { 'data-inner-html' => html }]</code></pre>
      <pre data-prefix="5"><code>end</code></pre>
      <pre data-prefix="6"><code></code></pre>
      <pre data-prefix="7"><code>&lt;%= f.slim_select_group :user_id, options_for_select(options) %&gt;</code></pre>
    </div>
  <% end %>
</section>

<%# Form Error Summary Demo %>
<section class="mb-12">
  <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
    <%= render Bali::Icon::Component.new('alert-circle', class: 'text-primary') %>
    <%= t('showcase.form_errors') %>
  </h2>
  <p class="text-base-content/70 mb-4"><%= t('showcase.form_errors_desc') %></p>

  <%= render Bali::Card::Component.new(style: :bordered) do %>
    <h3 class="font-semibold mb-4"><%= t('showcase.form_errors_demo_title') %></h3>

    <%
      # Create a model with validation errors for demonstration
      demo_record = FormRecord.new
      demo_record.errors.add(:name, "can't be blank")
      demo_record.errors.add(:email, "is invalid")
      demo_record.errors.add(:password, "is too short (minimum is 8 characters)")
      demo_record.errors.add(:password_confirmation, "doesn't match Password")
      demo_record.errors.add(:terms, "must be accepted")
    %>

    <%= form_with model: demo_record, url: '#', builder: Bali::FormBuilder, local: true, class: 'space-y-4' do |f| %>
      <%# Error Summary - the new component %>
      <%= f.error_summary(title: 'Please fix the following errors:') %>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <%# Text fields %>
        <%= f.text_field_group :name, label: t('showcase.full_name'), placeholder: 'John Doe' %>
        <%= f.email_field_group :email, label: t('showcase.email'), placeholder: 'john@example.com' %>

        <%# Password fields %>
        <%= f.password_field_group :password, label: t('showcase.password') %>
        <%= f.password_field_group :password_confirmation, label: t('showcase.password_confirmation') %>

        <%# Number and URL %>
        <%= f.number_field_group :age, label: t('showcase.age'), min: 18, max: 120 %>
        <%= f.url_field_group :website, label: t('showcase.website'), placeholder: 'https://example.com' %>
      </div>

      <%# Select %>
      <%= f.select_group :experience_level,
        [[t('showcase.experience_levels.beginner'), 'beginner'],
         [t('showcase.experience_levels.intermediate'), 'intermediate'],
         [t('showcase.experience_levels.advanced'), 'advanced'],
         [t('showcase.experience_levels.expert'), 'expert']],
        { include_blank: t('showcase.select_level') },
        label: t('showcase.experience_level') %>

      <%# Text area %>
      <%= f.text_area_group :bio, label: t('showcase.bio'), rows: 3, placeholder: 'Tell us about yourself...' %>

      <%# Boolean fields %>
      <div class="space-y-2">
        <%= f.switch_field_group :newsletter, label: t('showcase.newsletter') %>
        <%= f.boolean_field_group :terms, label: t('showcase.terms') %>
      </div>

      <%# Submit %>
      <%= f.submit_actions t('showcase.register'), cancel_path: '#' %>
    <% end %>

    <div class="divider">Usage</div>

    <div class="mockup-code text-sm">
      <pre data-prefix="1"><code>&lt;%= form_with model: @user, builder: Bali::FormBuilder do |f| %&gt;</code></pre>
      <pre data-prefix="2" class="text-success"><code>  &lt;%= f.error_summary %&gt;</code></pre>
      <pre data-prefix="3"><code>  &lt;%= f.text_field_group :name %&gt;</code></pre>
      <pre data-prefix="4"><code>  ...</code></pre>
      <pre data-prefix="5"><code>&lt;% end %&gt;</code></pre>
    </div>
  <% end %>
</section>

<%# Flash Notifications Demo %>
<section class="mb-12">
  <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
    <%= render Bali::Icon::Component.new('bell', class: 'text-primary') %>
    <%= t('showcase.flash_notifications') %>
  </h2>
  <p class="text-base-content/70 mb-4"><%= t('showcase.flash_notifications_desc') %></p>

  <%= render Bali::Card::Component.new(style: :bordered) do %>
    <div class="space-y-4">
      <%# Simulated flash notifications %>
      <%= render Bali::FlashNotifications::Component.new(
        notice: t('showcase.changes_saved'),
        alert: nil
      ) %>

      <div class="divider"><%= t('showcase.with_alert') %></div>

      <%= render Bali::FlashNotifications::Component.new(
        notice: nil,
        alert: t('showcase.error_processing')
      ) %>
    </div>
  <% end %>
</section>

<%# Loader Demo %>
<section class="mb-12">
  <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
    <%= render Bali::Icon::Component.new('loader', class: 'text-primary') %>
    <%= t('showcase.loader') %>
  </h2>
  <p class="text-base-content/70 mb-4"><%= t('showcase.loader_desc') %></p>

  <%= render Bali::Card::Component.new(style: :bordered) do %>
    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8">
      <%# Different loader types %>
      <div class="text-center">
        <%= render Bali::Loader::Component.new(type: :spinner, size: :lg, color: :primary, text: 'Spinner') %>
      </div>
      <div class="text-center">
        <%= render Bali::Loader::Component.new(type: :dots, size: :lg, color: :secondary, text: 'Dots') %>
      </div>
      <div class="text-center">
        <%= render Bali::Loader::Component.new(type: :ring, size: :lg, color: :accent, text: 'Ring') %>
      </div>
      <div class="text-center">
        <%= render Bali::Loader::Component.new(type: :ball, size: :lg, color: :info, text: 'Ball') %>
      </div>
      <div class="text-center">
        <%= render Bali::Loader::Component.new(type: :bars, size: :lg, color: :success, text: 'Bars') %>
      </div>
      <div class="text-center">
        <%= render Bali::Loader::Component.new(type: :infinity, size: :lg, color: :warning, text: 'Infinity') %>
      </div>
    </div>

    <div class="divider"><%= t('showcase.sizes') %></div>

    <div class="flex items-end justify-center gap-8">
      <%= render Bali::Loader::Component.new(type: :spinner, size: :xs, color: :primary, hide_text: true) %>
      <%= render Bali::Loader::Component.new(type: :spinner, size: :sm, color: :primary, hide_text: true) %>
      <%= render Bali::Loader::Component.new(type: :spinner, size: :md, color: :primary, hide_text: true) %>
      <%= render Bali::Loader::Component.new(type: :spinner, size: :lg, color: :primary, hide_text: true) %>
      <%= render Bali::Loader::Component.new(type: :spinner, size: :xl, color: :primary, hide_text: true) %>
    </div>
  <% end %>
</section>

<%# Modal Demo %>
<section class="mb-12">
  <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
    <%= render Bali::Icon::Component.new('square', class: 'text-primary') %>
    <%= t('showcase.modal') %>
  </h2>
  <p class="text-base-content/70 mb-4"><%= t('showcase.modal_desc') %></p>

  <%= render Bali::Card::Component.new(style: :bordered) do %>
    <div class="flex flex-wrap gap-4">
      <%# Modal Triggers - links that fetch content into the shared modal template %>
      <%= render Bali::Link::Component.new(
        name: t('showcase.open_basic_modal'),
        href: '/modals/basic',
        variant: :primary,
        modal: { size: :sm }
      ) %>

      <%= render Bali::Link::Component.new(
        name: t('showcase.open_form_modal'),
        href: '/modals/form',
        variant: :secondary,
        modal: { size: :lg }
      ) %>

      <%= render Bali::Link::Component.new(
        name: t('showcase.open_confirmation_modal'),
        href: '/modals/confirm',
        variant: :error,
        modal: { size: :xl }
      ) %>
    </div>
  <% end %>
</section>

<%# Drawer Demo %>
<section class="mb-12">
  <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
    <%= render Bali::Icon::Component.new('panel-right', class: 'text-primary') %>
    <%= t('showcase.drawer') %>
  </h2>
  <p class="text-base-content/70 mb-4"><%= t('showcase.drawer_desc') %></p>

  <%= render Bali::Card::Component.new(style: :bordered) do %>
    <div class="flex flex-wrap gap-4">
      <%# Drawer Triggers - links that fetch content into the shared drawer template %>
      <%= render Bali::Link::Component.new(
        name: t('showcase.open_user_details'),
        href: '/drawers/user_details',
        variant: :primary,
        drawer: { size: :lg }
      ) %>

      <%= render Bali::Link::Component.new(
        name: t('showcase.open_filters'),
        href: '/drawers/filters',
        variant: :secondary,
        drawer: { size: :sm }
      ) %>

      <%= render Bali::Link::Component.new(
        name: t('showcase.open_order_history'),
        href: '/drawers/order_history',
        variant: :accent,
        drawer: { size: :xl }
      ) %>
    </div>
  <% end %>
</section>

<%# Tooltip Demo %>
<section class="mb-12">
  <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
    <%= render Bali::Icon::Component.new('message-square', class: 'text-primary') %>
    <%= t('showcase.tooltip') %>
  </h2>
  <p class="text-base-content/70 mb-4"><%= t('showcase.tooltip_desc') %></p>

  <%= render Bali::Card::Component.new(style: :bordered) do %>
    <div class="flex flex-wrap items-center justify-center gap-8 py-8">
      <%= render Bali::Tooltip::Component.new(placement: :top) do |tooltip| %>
        <% tooltip.with_trigger do %>
          <%= render Bali::Button::Component.new(name: t('showcase.top'), variant: :outline) %>
        <% end %>
        <span><%= t('showcase.tooltip_on_top') %></span>
      <% end %>

      <%= render Bali::Tooltip::Component.new(placement: :bottom) do |tooltip| %>
        <% tooltip.with_trigger do %>
          <%= render Bali::Button::Component.new(name: t('showcase.bottom'), variant: :outline) %>
        <% end %>
        <span><%= t('showcase.tooltip_on_bottom') %></span>
      <% end %>

      <%= render Bali::Tooltip::Component.new(placement: :left) do |tooltip| %>
        <% tooltip.with_trigger do %>
          <%= render Bali::Button::Component.new(name: t('showcase.left'), variant: :outline) %>
        <% end %>
        <span><%= t('showcase.tooltip_on_left') %></span>
      <% end %>

      <%= render Bali::Tooltip::Component.new(placement: :right) do |tooltip| %>
        <% tooltip.with_trigger do %>
          <%= render Bali::Button::Component.new(name: t('showcase.right'), variant: :outline) %>
        <% end %>
        <span><%= t('showcase.tooltip_on_right') %></span>
      <% end %>
    </div>

    <div class="divider"><%= t('showcase.with_icons') %></div>

    <div class="flex items-center justify-center gap-4 py-4">
      <%= render Bali::Tooltip::Component.new(placement: :top) do |tooltip| %>
        <% tooltip.with_trigger do %>
          <%= render Bali::Icon::Component.new('info', class: 'text-info cursor-help') %>
        <% end %>
        <span><%= t('showcase.field_required') %></span>
      <% end %>

      <%= render Bali::Tooltip::Component.new(placement: :top) do |tooltip| %>
        <% tooltip.with_trigger do %>
          <%= render Bali::Icon::Component.new('help-circle', class: 'text-base-content/50 cursor-help') %>
        <% end %>
        <span><%= t('showcase.click_more_info') %></span>
      <% end %>

      <%= render Bali::Tooltip::Component.new(placement: :top) do |tooltip| %>
        <% tooltip.with_trigger do %>
          <%= render Bali::Icon::Component.new('triangle-alert', class: 'text-warning cursor-help') %>
        <% end %>
        <span><%= t('showcase.action_may_take_while') %></span>
      <% end %>
    </div>
  <% end %>
</section>

<%# Clipboard Demo %>
<section class="mb-12">
  <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
    <%= render Bali::Icon::Component.new('clipboard', class: 'text-primary') %>
    <%= t('showcase.clipboard') %>
  </h2>
  <p class="text-base-content/70 mb-4"><%= t('showcase.clipboard_desc') %></p>

  <%= render Bali::Card::Component.new(style: :bordered) do %>
    <div class="space-y-6">
      <%# API Key Example %>
      <div>
        <label class="label"><span class="label-text font-medium"><%= t('showcase.api_key') %></span></label>
        <%= render Bali::Clipboard::Component.new do |c| %>
          <% c.with_source('sk_live_abc123xyz789') %>
          <% c.with_trigger do %>
            <%= render Bali::Icon::Component.new('copy', size: :small) %>
          <% end %>
          <% c.with_success_content do %>
            <%= render Bali::Icon::Component.new('check', size: :small, class: 'text-success') %>
          <% end %>
        <% end %>
      </div>

      <%# URL Example %>
      <div>
        <label class="label"><span class="label-text font-medium"><%= t('showcase.share_url') %></span></label>
        <%= render Bali::Clipboard::Component.new do |c| %>
          <% c.with_source('https://example.com/share/abc123') %>
          <% c.with_trigger(t('showcase.copy_link'), square: false) %>
          <% c.with_success_content do %>
            <span class="text-success"><%= t('showcase.copied') %></span>
          <% end %>
        <% end %>
      </div>

      <%# Code Snippet Example %>
      <div>
        <label class="label"><span class="label-text font-medium"><%= t('showcase.install_command') %></span></label>
        <%= render Bali::Clipboard::Component.new do |c| %>
          <% c.with_source('bundle add bali_view_components') %>
          <% c.with_trigger do %>
            <%= render Bali::Icon::Component.new('copy', size: :small) %>
          <% end %>
          <% c.with_success_content do %>
            <%= render Bali::Icon::Component.new('check', size: :small, class: 'text-success') %>
          <% end %>
        <% end %>
      </div>
    </div>
  <% end %>
</section>

<%# List Demo %>
<section class="mb-12">
  <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
    <%= render Bali::Icon::Component.new('list', class: 'text-primary') %>
    <%= t('showcase.list') %>
  </h2>
  <p class="text-base-content/70 mb-4"><%= t('showcase.list_desc') %></p>

  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <%# Basic List %>
    <%= render Bali::Card::Component.new(style: :bordered) do %>
      <h3 class="font-semibold mb-4"><%= t('showcase.team_members') %></h3>
      <%= render Bali::List::Component.new do |list| %>
        <% list.with_item do |item| %>
          <%= render Bali::Avatar::Component.new(size: :sm) do |avatar| %>
            <% avatar.with_placeholder { 'AJ' } %>
          <% end %>
          <div class="list-col-grow">
            <% item.with_title('Alice Johnson') %>
            <% item.with_subtitle(t('showcase.lead_developer')) %>
          </div>
          <% item.with_action do %>
            <%= render Bali::Tag::Component.new(text: t('showcase.online'), color: :success, size: :sm) %>
          <% end %>
        <% end %>

        <% list.with_item do |item| %>
          <%= render Bali::Avatar::Component.new(size: :sm) do |avatar| %>
            <% avatar.with_placeholder { 'BS' } %>
          <% end %>
          <div class="list-col-grow">
            <% item.with_title('Bob Smith') %>
            <% item.with_subtitle(t('showcase.designer')) %>
          </div>
          <% item.with_action do %>
            <%= render Bali::Tag::Component.new(text: t('showcase.away'), color: :warning, size: :sm) %>
          <% end %>
        <% end %>

        <% list.with_item do |item| %>
          <%= render Bali::Avatar::Component.new(size: :sm) do |avatar| %>
            <% avatar.with_placeholder { 'CD' } %>
          <% end %>
          <div class="list-col-grow">
            <% item.with_title('Carol Davis') %>
            <% item.with_subtitle(t('showcase.product_manager')) %>
          </div>
          <% item.with_action do %>
            <%= render Bali::Tag::Component.new(text: t('showcase.offline'), color: :neutral, size: :sm) %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>

    <%# List with Actions %>
    <%= render Bali::Card::Component.new(style: :bordered) do %>
      <h3 class="font-semibold mb-4"><%= t('showcase.recent_files') %></h3>
      <%= render Bali::List::Component.new(relaxed_spacing: true) do |list| %>
        <% list.with_item do |item| %>
          <%= render Bali::Icon::Component.new('file-text', class: 'text-primary') %>
          <div class="list-col-grow">
            <% item.with_title('Project Proposal.pdf') %>
            <% item.with_subtitle(t('showcase.modified_hours_ago')) %>
          </div>
          <% item.with_action do %>
            <%= render Bali::ActionsDropdown::Component.new(align: :end) do |dropdown| %>
              <% dropdown.with_item(href: '#', icon_name: 'download') { t('showcase.download') } %>
              <% dropdown.with_item(href: '#', icon_name: 'share-2') { t('showcase.share') } %>
              <% dropdown.with_item(href: '#', icon_name: 'trash', class: 'text-error') { t('common.delete') } %>
            <% end %>
          <% end %>
        <% end %>

        <% list.with_item do |item| %>
          <%= render Bali::Icon::Component.new('image', class: 'text-success') %>
          <div class="list-col-grow">
            <% item.with_title('Banner Design.png') %>
            <% item.with_subtitle(t('showcase.modified_yesterday')) %>
          </div>
          <% item.with_action do %>
            <%= render Bali::ActionsDropdown::Component.new(align: :end) do |dropdown| %>
              <% dropdown.with_item(href: '#', icon_name: 'download') { t('showcase.download') } %>
              <% dropdown.with_item(href: '#', icon_name: 'share-2') { t('showcase.share') } %>
              <% dropdown.with_item(href: '#', icon_name: 'trash', class: 'text-error') { t('common.delete') } %>
            <% end %>
          <% end %>
        <% end %>

        <% list.with_item do |item| %>
          <%= render Bali::Icon::Component.new('file-spreadsheet', class: 'text-info') %>
          <div class="list-col-grow">
            <% item.with_title('Q4 Report.xlsx') %>
            <% item.with_subtitle(t('showcase.modified_days_ago')) %>
          </div>
          <% item.with_action do %>
            <%= render Bali::ActionsDropdown::Component.new(align: :end) do |dropdown| %>
              <% dropdown.with_item(href: '#', icon_name: 'download') { t('showcase.download') } %>
              <% dropdown.with_item(href: '#', icon_name: 'share-2') { t('showcase.share') } %>
              <% dropdown.with_item(href: '#', icon_name: 'trash', class: 'text-error') { t('common.delete') } %>
            <% end %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
  </div>
</section>

<%# Tags Demo %>
<section class="mb-12">
  <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
    <%= render Bali::Icon::Component.new('tags', class: 'text-primary') %>
    <%= t('showcase.tags_collection') %>
  </h2>
  <p class="text-base-content/70 mb-4"><%= t('showcase.tags_desc') %></p>

  <%= render Bali::Card::Component.new(style: :bordered) do %>
    <div class="space-y-6">
      <div>
        <h4 class="font-medium mb-2"><%= t('showcase.skills') %></h4>
        <%= render Bali::Tags::Component.new(gap: :sm) do |tags| %>
          <% tags.with_item(text: 'Ruby', color: :error) %>
          <% tags.with_item(text: 'Rails', color: :error, style: :outline) %>
          <% tags.with_item(text: 'JavaScript', color: :warning) %>
          <% tags.with_item(text: 'TypeScript', color: :info) %>
          <% tags.with_item(text: 'PostgreSQL', color: :primary) %>
          <% tags.with_item(text: 'Redis', color: :error, style: :outline) %>
        <% end %>
      </div>

      <div>
        <h4 class="font-medium mb-2"><%= t('showcase.categories') %></h4>
        <%= render Bali::Tags::Component.new(gap: :md) do |tags| %>
          <% tags.with_item(text: 'Technology', href: '#', color: :primary) %>
          <% tags.with_item(text: 'Design', href: '#', color: :secondary) %>
          <% tags.with_item(text: 'Business', href: '#', color: :accent) %>
          <% tags.with_item(text: 'Marketing', href: '#', color: :success) %>
        <% end %>
      </div>

      <div>
        <h4 class="font-medium mb-2"><%= t('showcase.different_sizes') %></h4>
        <%= render Bali::Tags::Component.new do |tags| %>
          <% tags.with_item(text: t('showcase.extra_small'), size: :xs, color: :neutral) %>
          <% tags.with_item(text: t('showcase.small'), size: :sm, color: :neutral) %>
          <% tags.with_item(text: t('showcase.medium'), size: :md, color: :neutral) %>
          <% tags.with_item(text: t('showcase.large'), size: :lg, color: :neutral) %>
        <% end %>
      </div>
    </div>
  <% end %>
</section>

<%# TreeView Demo %>
<section class="mb-12">
  <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
    <%= render Bali::Icon::Component.new('folder-tree', class: 'text-primary') %>
    <%= t('showcase.tree_view') %>
  </h2>
  <p class="text-base-content/70 mb-4"><%= t('showcase.tree_view_desc') %></p>

  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <%= render Bali::Card::Component.new(style: :bordered) do %>
      <h3 class="font-semibold mb-4"><%= t('showcase.file_browser') %></h3>
      <%= render Bali::TreeView::Component.new(current_path: '/src/components') do |tree| %>
        <% tree.with_item(name: 'src', path: '/src') do |folder| %>
          <% folder.with_item(name: 'components', path: '/src/components') do |sub| %>
            <% sub.with_item(name: 'Button.tsx', path: '/src/components/Button.tsx') %>
            <% sub.with_item(name: 'Modal.tsx', path: '/src/components/Modal.tsx') %>
            <% sub.with_item(name: 'Card.tsx', path: '/src/components/Card.tsx') %>
          <% end %>
          <% folder.with_item(name: 'utils', path: '/src/utils') do |sub| %>
            <% sub.with_item(name: 'helpers.ts', path: '/src/utils/helpers.ts') %>
            <% sub.with_item(name: 'constants.ts', path: '/src/utils/constants.ts') %>
          <% end %>
          <% folder.with_item(name: 'App.tsx', path: '/src/App.tsx') %>
        <% end %>
        <% tree.with_item(name: 'public', path: '/public') do |folder| %>
          <% folder.with_item(name: 'index.html', path: '/public/index.html') %>
          <% folder.with_item(name: 'favicon.ico', path: '/public/favicon.ico') %>
        <% end %>
        <% tree.with_item(name: 'package.json', path: '/package.json') %>
      <% end %>
    <% end %>

    <%= render Bali::Card::Component.new(style: :bordered) do %>
      <h3 class="font-semibold mb-4"><%= t('showcase.organization_structure') %></h3>
      <%= render Bali::TreeView::Component.new(current_path: '/engineering/frontend') do |tree| %>
        <% tree.with_item(name: t('showcase.engineering'), path: '/engineering') do |dept| %>
          <% dept.with_item(name: t('showcase.frontend'), path: '/engineering/frontend') do |team| %>
            <% team.with_item(name: t('showcase.react_team'), path: '/engineering/frontend/react') %>
            <% team.with_item(name: t('showcase.mobile_team'), path: '/engineering/frontend/mobile') %>
          <% end %>
          <% dept.with_item(name: t('showcase.backend'), path: '/engineering/backend') do |team| %>
            <% team.with_item(name: t('showcase.api_team'), path: '/engineering/backend/api') %>
            <% team.with_item(name: t('showcase.data_team'), path: '/engineering/backend/data') %>
          <% end %>
        <% end %>
        <% tree.with_item(name: t('showcase.design'), path: '/design') do |dept| %>
          <% dept.with_item(name: t('showcase.product_design'), path: '/design/product') %>
          <% dept.with_item(name: t('showcase.brand_design'), path: '/design/brand') %>
        <% end %>
        <% tree.with_item(name: t('showcase.marketing'), path: '/marketing') %>
      <% end %>
    <% end %>
  </div>
</section>

<%# ImageField Demo %>
<section class="mb-12">
  <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
    <%= render Bali::Icon::Component.new('image', class: 'text-primary') %>
    <%= t('showcase.image_field') %>
  </h2>
  <p class="text-base-content/70 mb-4"><%= t('showcase.image_field_desc') %></p>

  <%= render Bali::Card::Component.new(style: :bordered) do %>
    <div class="flex flex-wrap items-end gap-8">
      <%# Different sizes %>
      <div class="text-center">
        <p class="text-sm text-base-content/60 mb-2">XS</p>
        <%= render Bali::ImageField::Component.new(
          src: 'https://picsum.photos/seed/xs/100/100',
          size: :xs
        ) %>
      </div>

      <div class="text-center">
        <p class="text-sm text-base-content/60 mb-2">SM</p>
        <%= render Bali::ImageField::Component.new(
          src: 'https://picsum.photos/seed/sm/100/100',
          size: :sm
        ) %>
      </div>

      <div class="text-center">
        <p class="text-sm text-base-content/60 mb-2">MD (default)</p>
        <%= render Bali::ImageField::Component.new(
          src: 'https://picsum.photos/seed/md/200/200',
          size: :md
        ) %>
      </div>

      <div class="text-center">
        <p class="text-sm text-base-content/60 mb-2">LG</p>
        <%= render Bali::ImageField::Component.new(
          src: 'https://picsum.photos/seed/lg/200/200',
          size: :lg
        ) %>
      </div>

      <div class="text-center">
        <p class="text-sm text-base-content/60 mb-2"><%= t('showcase.placeholder') %></p>
        <%= render Bali::ImageField::Component.new(size: :md) %>
      </div>
    </div>
  <% end %>
</section>

<%# Calendar Demo %>
<section class="mb-12">
  <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
    <%= render Bali::Icon::Component.new('calendar', class: 'text-primary') %>
    <%= t('showcase.calendar') %>
  </h2>
  <p class="text-base-content/70 mb-4"><%= t('showcase.calendar_desc') %></p>

  <%= render Bali::Card::Component.new(style: :bordered) do %>
    <%= render Bali::Calendar::Component.new(
      start_date: Date.current,
      period: :month,
      events: @calendar_events || [],
      show_date: true
    ) do |calendar| %>
      <% calendar.with_header(route_path: '/pages/showcase', period_switch: true) %>
    <% end %>
  <% end %>
</section>

<%# SearchInput Demo %>
<section class="mb-12">
  <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
    <%= render Bali::Icon::Component.new('search', class: 'text-primary') %>
    <%= t('showcase.search_input') %>
  </h2>
  <p class="text-base-content/70 mb-4"><%= t('showcase.search_input_desc') %></p>

  <%= render Bali::Card::Component.new(style: :bordered) do %>
    <div class="space-y-6">
      <div>
        <h4 class="font-medium mb-2"><%= t('showcase.with_submit_button') %></h4>
        <%= form_with url: '/pages/showcase', method: :get, local: true do |f| %>
          <div class="max-w-md">
            <%= render Bali::SearchInput::Component.new(
              form: Struct.new(:model_name, :query).new(model_name: 'search', query: ''),
              field: :query,
              placeholder: t('showcase.search_products'),
              auto_submit: false
            ) %>
          </div>
        <% end %>
      </div>

      <div>
        <h4 class="font-medium mb-2"><%= t('showcase.auto_submit') %></h4>
        <%= form_with url: '/pages/showcase', method: :get, local: true, data: { controller: 'submit-on-change' } do |f| %>
          <div class="max-w-md">
            <%= render Bali::SearchInput::Component.new(
              form: Struct.new(:model_name, :query).new(model_name: 'search', query: ''),
              field: :query,
              placeholder: t('showcase.start_typing'),
              auto_submit: true
            ) %>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>
</section>

<%# RecurrentEventRuleForm Demo %>
<section class="mb-12">
  <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
    <%= render Bali::Icon::Component.new('repeat', class: 'text-primary') %>
    <%= t('showcase.recurrent_event_rule_form') %>
  </h2>
  <p class="text-base-content/70 mb-4"><%= t('showcase.recurrent_event_rule_form_desc') %></p>

  <%= render Bali::Card::Component.new(style: :bordered) do %>
    <%= form_with url: '#', method: :post, builder: Bali::FormBuilder, local: true do |f| %>
      <div class="max-w-2xl">
        <%= render Bali::RecurrentEventRuleForm::Component.new(
          form: f,
          method: :recurrence_rule,
          value: 'FREQ=WEEKLY;INTERVAL=1;BYDAY=MO,WE,FR'
        ) %>
      </div>

      <div class="mt-6">
        <%= render Bali::Message::Component.new(color: :info) do %>
          <%= raw t('showcase.generated_rrule') %>
        <% end %>
      </div>
    <% end %>
  <% end %>
</section>

<%# LocationsMap Demo (requires GOOGLE_MAPS_KEY) %>
<section class="mb-12">
  <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
    <%= render Bali::Icon::Component.new('map-pin', class: 'text-primary') %>
    <%= t('showcase.locations_map') %>
  </h2>
  <p class="text-base-content/70 mb-4"><%= t('showcase.locations_map_desc') %></p>

  <%= render Bali::Card::Component.new(style: :bordered) do %>
    <% if ENV['GOOGLE_MAPS_KEY'].present? %>
      <%= render Bali::LocationsMap::Component.new(
        center_latitude: 37.7749,
        center_longitude: -122.4194,
        zoom: 12,
        clustered: true
      ) do |map| %>
        <% map.with_location(
          latitude: 37.7749,
          longitude: -122.4194
        ) %>
        <% map.with_location(
          latitude: 37.7849,
          longitude: -122.4094
        ) %>
      <% end %>
    <% else %>
      <%= render Bali::Message::Component.new(color: :warning) do %>
        <%= raw t('showcase.google_maps_required') %>
      <% end %>

      <div class="bg-base-200 rounded-box h-[300px] flex items-center justify-center mt-4">
        <div class="text-center text-base-content/50">
          <%= render Bali::Icon::Component.new('map', class: 'size-16 mb-2') %>
          <p><%= t('showcase.map_placeholder') %></p>
        </div>
      </div>
    <% end %>
  <% end %>
</section>

<%# BlockEditor Demo %>
<section class="mb-12">
  <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
    <%= render Bali::Icon::Component.new('text-cursor-input', class: 'text-primary') %>
    <%= t('showcase.block_editor') %>
  </h2>
  <p class="text-base-content/70 mb-4"><%= t('showcase.block_editor_desc') %></p>

  <%
    showcase_content = [
      { type: 'heading', content: [{ type: 'text', text: 'Block Editor Showcase', styles: {} }], props: { level: 1 } },
      { type: 'heading', content: [{ type: 'text', text: 'Text Formatting', styles: {} }], props: { level: 2 } },
      { type: 'paragraph', content: [
        { type: 'text', text: 'This is ', styles: {} },
        { type: 'text', text: 'bold', styles: { bold: true } },
        { type: 'text', text: ', ', styles: {} },
        { type: 'text', text: 'italic', styles: { italic: true } },
        { type: 'text', text: ', ', styles: {} },
        { type: 'text', text: 'underlined', styles: { underline: true } },
        { type: 'text', text: ', ', styles: {} },
        { type: 'text', text: 'strikethrough', styles: { strike: true } },
        { type: 'text', text: ', and ', styles: {} },
        { type: 'text', text: 'inline code', styles: { code: true } },
        { type: 'text', text: ' text.', styles: {} }
      ] },
      { type: 'heading', content: [{ type: 'text', text: 'Lists', styles: {} }], props: { level: 3 } },
      { type: 'bulletListItem', content: [{ type: 'text', text: 'First bullet item', styles: {} }] },
      { type: 'bulletListItem', content: [{ type: 'text', text: 'Second bullet item with ', styles: {} },
                                           { type: 'text', text: 'bold text', styles: { bold: true } }] },
      { type: 'numberedListItem', content: [{ type: 'text', text: 'First numbered item', styles: {} }] },
      { type: 'numberedListItem', content: [{ type: 'text', text: 'Second numbered item', styles: {} }] },
      { type: 'checkListItem', content: [{ type: 'text', text: 'Completed task', styles: {} }], props: { checked: true } },
      { type: 'checkListItem', content: [{ type: 'text', text: 'Pending task', styles: {} }], props: { checked: false } },
      { type: 'heading', content: [{ type: 'text', text: 'Blockquote', styles: {} }], props: { level: 3 } },
      { type: 'quote', content: [
        { type: 'text', text: 'The best way to predict the future is to invent it.', styles: { italic: true } },
        { type: 'text', text: ' â€” Alan Kay', styles: {} }
      ] },
      { type: 'divider' },
      { type: 'heading', content: [{ type: 'text', text: 'Code Block', styles: {} }], props: { level: 3 } },
      { type: 'codeBlock', content: [{ type: 'text', text: "function greet(name) {\n  return `Hello, ${name}!`;\n}\n\nconsole.log(greet('World'));", styles: {} }], props: { language: 'javascript' } },
      { type: 'heading', content: [{ type: 'text', text: 'Table', styles: {} }], props: { level: 3 } },
      { type: 'table', content: {
        type: 'tableContent',
        rows: [
          { cells: [[{ type: 'text', text: 'Feature', styles: { bold: true } }],
                     [{ type: 'text', text: 'Status', styles: { bold: true } }],
                     [{ type: 'text', text: 'Notes', styles: { bold: true } }]] },
          { cells: [[{ type: 'text', text: 'Rich Text', styles: {} }],
                     [{ type: 'text', text: 'Supported', styles: {} }],
                     [{ type: 'text', text: 'Bold, italic, underline, code', styles: {} }]] },
          { cells: [[{ type: 'text', text: 'Code Blocks', styles: {} }],
                     [{ type: 'text', text: 'Supported', styles: {} }],
                     [{ type: 'text', text: 'With syntax highlighting', styles: {} }]] }
        ]
      } },
      { type: 'heading', content: [{ type: 'text', text: 'Toggle List', styles: {} }], props: { level: 3 } },
      { type: 'toggleListItem', content: [{ type: 'text', text: 'Click to expand this toggle', styles: {} }] },
      { type: 'toggleListItem', content: [{ type: 'text', text: 'Another collapsible section', styles: {} }] },
      { type: 'paragraph', content: [
        { type: 'text', text: 'Type ', styles: {} },
        { type: 'text', text: '/', styles: { code: true } },
        { type: 'text', text: ' to see the slash command menu.', styles: {} }
      ] }
    ]
  %>

  <%= render Bali::Card::Component.new(style: :bordered) do %>
    <h3 class="font-semibold mb-3"><%= t('showcase.block_editor_editable') %></h3>
    <%= render Bali::BlockEditor::Component.new(
      initial_content: showcase_content,
      editable: true,
      placeholder: t('showcase.block_editor_placeholder'),
      input_name: 'demo[content]'
    ) %>
  <% end %>

  <%= render Bali::Card::Component.new(style: :bordered, class: 'mt-4') do %>
    <h3 class="font-semibold mb-3"><%= t('showcase.block_editor_readonly') %></h3>
    <%= render Bali::BlockEditor::Component.new(
      initial_content: showcase_content,
      editable: false
    ) %>
  <% end %>
</section>

<%# Summary %>
<section class="mb-12">
  <%= render Bali::Message::Component.new(color: :success) do %>
    <div class="flex items-start gap-3">
      <%= render Bali::Icon::Component.new('check-circle', class: 'size-6 shrink-0 mt-0.5') %>
      <div>
        <strong><%= t('showcase.all_components_showcased') %></strong>
        <p class="mt-1"><%= t('showcase.showcase_summary') %>:</p>
        <div class="mt-2">
          <%= render Bali::Tags::Component.new(gap: :xs) do |tags| %>
            <% tags.with_item(text: 'Calendar', size: :sm) %>
            <% tags.with_item(text: 'Clipboard', size: :sm) %>
            <% tags.with_item(text: 'Drawer', size: :sm) %>
            <% tags.with_item(text: 'FlashNotifications', size: :sm) %>
            <% tags.with_item(text: 'Form::Errors', size: :sm, color: :primary) %>
            <% tags.with_item(text: 'ImageField', size: :sm) %>
            <% tags.with_item(text: 'List', size: :sm) %>
            <% tags.with_item(text: 'Loader', size: :sm) %>
            <% tags.with_item(text: 'LocationsMap', size: :sm) %>
            <% tags.with_item(text: 'Modal', size: :sm) %>
            <% tags.with_item(text: 'RecurrentEventRuleForm', size: :sm) %>
            <% tags.with_item(text: 'SearchInput', size: :sm) %>
            <% tags.with_item(text: 'Tags', size: :sm) %>
            <% tags.with_item(text: 'Tooltip', size: :sm) %>
            <% tags.with_item(text: 'TreeView', size: :sm) %>
            <% tags.with_item(text: 'BlockEditor', size: :sm, color: :accent) %>
          <% end %>
        </div>
      </div>
    </div>
  <% end %>
</section>
